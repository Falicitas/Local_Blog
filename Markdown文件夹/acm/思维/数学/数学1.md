# 数学1

## 一些习题

### AGC047 A - Integer Product

给定有理数$a_i$，问存在多少对$<a_i,a_j>,i<j$，使得$a_i*a_j$为整数。

两个数相乘$ab$为整数，可以看做$ab$模$1$没有小数余。由于$a_i$的小数精度为9，将每个数乘$1e9$，原问题转化为$A = ab$模$1e18$是否余数为0。将$1e18$拆分，即原数$A$是否有18个$2,5$。将每个数按$2,5$分解成$c_2,c_5$，扔进桶$cnt[c_2][c_5]$计数。之后再对每个数，在桶里面查询两个素因子个数加起来均大于18的贡献，可以发现是无序的：对于自己则做特判，之后再将答案除2即可（保证计算的为偏序的贡献）。

### AGC047 C - Product Modulo

统计$a_i*a_j\bmod 200003,i<j$的值，结果不取模。

取离散对数，问题转化成求$\lg a_i + \lg a_j \bmod \varphi(p)$。用一个数组统计$\lg a_i$为值$val_j$的个数，之后做卷积，减去$2\lg a_i$的贡献，最后除2就好力。

