# floyd判环算法

---

## 原理

在链表头放两个速度不同的指针，p1,p2。假设无环，快指针p2会先跑到链尾，否则p2会赶上p1在环上某点相遇。记相遇点离入环点为k，链头离入环点为m，环长为n。对于p1的总路程为$i = m + a * n + k$，p2的总路程为$2i = m + b * n + k$。两式相减，得$i = (b - a) * n$，即p1走过的路程为环长的整数倍。

之后，将快指针p2放回链头，速度调制1，p1位置速度不变。再次相遇时定在入环点（由于i是环长的整数倍，将p1走过的路程掰到环上就看得出了）。

要求环长，只需要在跑多一圈，p2对于p1多跑了一圈。