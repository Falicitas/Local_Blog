# 点分治中分治块直接等于size[v]的分析

## 定义

简单定义几个量：
> totsize - 分治块的大小
> size[v] - 求重心时以v为子树的大小
> maxs[v] - 以v为重心时子树的最大值

## 分析

问题肯定出现在求第二层重心，在第一层重心u的父亲fa代表的分治块被错误地求得totsize = size[fa] (实际等于totsize - size[u])。考虑下面这个树结构。
<img src="../../ab1.png" alt="ab1" style="zoom:15%;" />

这个以o为重心的树结构，由最上层1节点向下递归求得。箭头所指size[v] = $O(\frac{2n}{3})$。考虑含v的分治块，如图。
<img src="../../ab2.jpg" alt="ab2" style="zoom:15%;" />
从箭头所指的节点开始找重心，由上至下的节点v对应的$maxs = max(totsize - size[son],max{size[son]})$可以发现，max函数的第一个参数单增，第二个参数单减，而恰好第一个访问的节点（即箭头所指）的maxs值属整个分治块最小，故重心为第一个节点。（很明显是错误的）。但继续往下分析可以发现，对于这个分治块求得的三层重心并无问题（totsize求得的值是正确的）。要造卡这种假算法的数据，估计思路跟上面第一层分治块的结构类似吧。

