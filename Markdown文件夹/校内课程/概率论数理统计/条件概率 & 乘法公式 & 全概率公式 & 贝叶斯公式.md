# 条件概率 & 乘法公式 & 全概率公式 & 贝叶斯公式

$$
P(B|A) = \frac{P(AB)}{P(A)},P(A) > 0
$$

本质是缩小了样本空间。

## 条件概率性质

> 非负性：对于任意事件 B ，有 $P(B|A) \geq 0$
>
> 规范性： $P(\Omega | A) = 1$
>
> 可列可加性： $B_i$ 两两不相容，则 $P(\bigcup\limits_{i=1}^n B_i | A) = \sum\limits_i P(B_i|A)$ 
>
> 证明：
>
> $P(\bigcup\limits_{i=1}^n B_i | A) = \frac{P(\bigcup\limits_{i=1}^n B_iA)}{P(A)} = \frac{\sum\limits_{i}P(B_iA)}{P(A)} = \sum\limits_{i} P(B_i|A)$ 
>
> 互补性： $P(\overline A |B) = 1 - P(A|B)$ 
>
> 满足容斥原理。

## 条件概率变式与乘法公式

$$
P(AB) = P(A)P(B|A)
$$

从条件概率变式推得 **乘法公式** ：
$$
P(A_1A_2\dots A_n) = P(A_1) P(A_2|A_1) P(A_3|A_1A_2) \dots P(A_n|A_1A_2\dots A_{n-1})
$$
从右到左：

每次将前两项合并。

从左到右：

每次分裂后面一项。

## 一些例题

![image-20210316123037732](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210316123037732.png)

![image-20210316124521506](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210316124521506.png)

![image-20210316124939968](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210316124939968.png)

注意定义的状态。

## 全概率公式

A1,A2,...,An 构成样本空间的划分，那么对于随机一个事件 B ，B 发生的概率为
$$
P(B) = \sum\limits_{i} P(BA_i) = \sum\limits_i P(A_i)P(B|A_i)
$$
证明：
$$
\begin{aligned}
P(B) &= P(B\Omega)
\\
&= P(B\bigcup_i A_i)
\\
&= P(\bigcup A_i B)
\\
&= \sum\limits_i P(A_iB)
\end{aligned}
$$
利用的思想是 **化整为零** 。

## 贝叶斯公式

A1,A2,...,An 构成样本空间的划分，那么对于随机一个事件 B ，如果 $P(A_k) > 0$ ，则
$$
P(A_k | B) = \frac{P(A_kB)}{P(B)} = \frac{P(A_k)P(B|A_k)}{\sum\limits_i P(A_iB)}
$$
通常用于 **知果索因** 的情况。

