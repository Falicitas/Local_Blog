# GitHub & git 使用

## github各个操作的关系

<img src="C:\Users\Administrator\Desktop\markdown图片\git流程.png" alt="git流程" style="zoom:67%;" />

## Repository（版本库）& Workplace（工作区）

在本地的某目录repo1创建.git有几种方式：

> git bash: 在repo1目录下进入git bash,输入命令$ git init
>
> git GUI:在repo1目录下new一个版本库
>
> tortoisegit: 在repo1目录下创建版本库（非纯版本库）

repo1为工作目录Workplace，.git为本地版本库目录Repository。

创建版本库时自带一个分支master.

## Index Stage（暂存区）

将工作区的文件（比如txt）使用tortoisegit添加到版本库后，文件会暂存至版本库里的暂存区Stage；在工作区再操作文件，提交文件，附上评论（commit），就将文件存入版本库中。

## 修改 & 历史版本

已经提交过的文件在工作区修改后，可以直接提交到版本库，同时形成历史版本。在显示日志里圈住两个历史版本，能够比较两个版本的不同。

版本库浏览器里可以查看版本库里有什么文件。

## 删除 & 还原

当不要一个文件时：

> 在工作区删了该文件。此时版本库里面还有该文件，tortoise右键支持还原。
>
> 想删除版本库内的文件，当在工作区删除完后执行**提交**，此时彻底删除该文件。
>
> 如果只删除库里文件，文件仍保留在工作区，则删除并保留副本，最后提交。

## 隐藏 & 隐藏日志

对待提交的文件来说，部分文件不上传至仓库里，则选择隐藏。

对于隐藏文件，递归隐藏表示隐藏文件及其子文件；生成的隐藏日志，推荐放在文件原本所在目录而不是在版本库的根目录。

对于隐藏日志有特殊的语法，是对于隐藏文件操作的解释，比如递归隐藏等，，仅做了解。

## 在github创建远程库Remote

在github上`create a repository`，不要选readme，听说配置会麻烦、、

创建好远程库后，有两个选项：一个使用本地仓库来构建远程库，一个创建新的空本地库来构建远程库、、讲第一种。

本地库与远程库有两种安全通信协议：HTTPS和SSH。

### SSH

SSH通过生成一对秘钥（公钥和私钥）来完成安全认证。

在本地仓库工作区下，使用gitbash输入`ssh-keygen -t rsa`命令生成秘钥对，默认放在\Users\Administrator\\.ssh里。有.pub后缀的文件是公钥，给github和其他人使用的。

在github中的`Settings`里有`SSH and GPG keys`，将公钥文本复制到github上。

之后根据github给的提示，在本地仓库工作区下输入指令：**搭建连接**，**推送本地库**。

另外，一个本地仓库可用来制作多个远程库，其实本质就是将本地库拷贝一份放在云端罢了、、

### HTTPS

使用tortoisegit点`同步`，管理连接，URL上添加HTTPS的链接，不需要秘钥，但在推送**push**时需要github的用户名与密码。

## 克隆Clone  & Fork

在github点` clone or download` ，复制SSH or HTTPS链接；在预备文件夹中使用命令行`git clone URL`来完成克隆。

Fork则是远程库Remote复制一份到自己github账户里的仓库中。

## 修改 & 解决冲突

对本地文件进行修改后，可以将其推送到远程端，依旧是根据两种协议进行链接。

但若远程端发生更新，本地端在没有拉取$pull$的前提下修改，会发生冲突、、可以理解成原本统一的时间线被分成两个分支，不能维护正确的历史信息、、

解决方案：先拉取$pull$,这时候有冲突的文件会被github添加一些指示，可以删除指示将新旧信息合并后，在tortoise上点`解决冲突`，此时冲突解决，可以将本地库与远程库同步。

## 搭建基于linux的git服务器

当前项目机密性高，如果不想在github使用private，则选择自己搭建一个基于linux的服务器、、搭建流程在黑马git教程上有、、

## 分支 & 合并

其实就是多开一个头指针，从此版本库能有若干条独立的时间线、、

在tortoise上点击`切换/检出`键创建新分支，并处在新分支下，同时可以切换、合并分支。

合并分支时需先切换到最终想保留的分支中（一般为master）,然后从其他分支合并到master中、、在同一文件两条时间线均修改的情况下会发生冲突，与**解决冲突**的解决办法一样。

## IDEA & Git

黑马git教程后面还有跟java开发的IDEA与git有关的视频、、
